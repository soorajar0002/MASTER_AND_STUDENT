{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/HP/OneDrive/Desktop/MASTER AND STUDENT/master_and_student/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/HP/OneDrive/Desktop/MASTER AND STUDENT/master_and_student/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/HP/OneDrive/Desktop/MASTER AND STUDENT/master_and_student/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import useAxios from\"../../axios/useAxios\";import{Link}from\"react-router-dom\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),logs=_useState2[0],setLogs=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),input_one=_useState4[0],setInputOne=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),input_two=_useState6[0],setInputTwo=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),count=_useState8[0],setCount=_useState8[1];var api=useAxios();var navigate=useNavigate();var data=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return api.get(\"/tasks/\",{});case 3:response=_context.sent;console.log(response.data);setLogs(response.data);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function data(){return _ref.apply(this,arguments);};}();var Cal=function Cal(){var filteredLogs=logs.filter(function(log){return log.result==null;});var count=filteredLogs.length;setCount(count);};var submit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return api.post(\"/calculate/\",{id:id,input_one:input_one,input_two:input_two});case 3:response=_context2.sent;if(response.status==200){data();}setInputOne(\" \");setInputTwo(\" \");_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 12:case\"end\":return _context2.stop();}},_callee2,null,[[0,9]]);}));return function submit(_x){return _ref2.apply(this,arguments);};}();useEffect(function(){data();Cal();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center mt-6\",children:/*#__PURE__*/_jsx(Link,{to:\"/student/task_log\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"focus:outline-none  bg-black text-white  font-medium rounded-lg text-sm px-5 py-1 mr-2 mb-2 \",children:\"ACTIVITY LOG\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mx-28\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-4\",children:\"TASK PENDING\"}),count===0?/*#__PURE__*/_jsx(\"h1\",{className:\"text-center font-semibold\",children:\"NO PENDING TASK\"}):/*#__PURE__*/_jsx(\"div\",{class:\"relative overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{class:\"w-full text-sm text-center text-gray-500 dark:text-gray-400\",children:[/*#__PURE__*/_jsx(\"thead\",{class:\"text-xs text-gray-700 uppercase bg-gray-200\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",class:\"px-6 py-3\",children:\"No\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",class:\"px-6 py-3\",children:\"MASTER\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",class:\"px-6 py-3\",children:\"OPERATION\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",class:\"px-6 py-3\",children:\"INPUT 1\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",class:\"px-6 py-3\",children:\"INPUT 2\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",class:\"px-6 py-3\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:logs.filter(function(log){return log.result==null;}).map(function(log,index){return/*#__PURE__*/_jsxs(\"tr\",{class:\" border-b bg-gray-100 text-black\",children:[/*#__PURE__*/_jsx(\"td\",{class:\"px-6 py-4\",children:index+1}),/*#__PURE__*/_jsxs(\"td\",{class:\"px-6 py-4\",children:[log.first_name,\" \",log.last_name]}),/*#__PURE__*/_jsx(\"td\",{class:\"px-6 py-4\",children:log.operation}),/*#__PURE__*/_jsx(\"td\",{class:\"px-6 py-4\",children:/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(event){setInputOne(event.target.value);}})}),/*#__PURE__*/_jsx(\"td\",{class:\"px-6 py-4\",children:/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(event){setInputTwo(event.target.value);}})}),/*#__PURE__*/_jsx(\"td\",{class:\"px-6 py-4\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return submit(log.id);},className:\"focus:outline-none  bg-black text-white  font-medium  rounded-lg text-xs px-4 py-1 mr-2 mb-2 \",children:\"SUBMIT\"})})]});})})]})})]})]});};export default Home;","map":{"version":3,"names":["React","useEffect","useState","useAxios","Link","useNavigate","Home","logs","setLogs","input_one","setInputOne","input_two","setInputTwo","count","setCount","api","navigate","data","get","response","console","log","Cal","filteredLogs","filter","result","length","submit","id","post","status","map","index","first_name","last_name","operation","event","target","value"],"sources":["C:/Users/HP/OneDrive/Desktop/MASTER AND STUDENT/master_and_student/frontend/src/components/student/Home.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\"\r\nimport useAxios from \"../../axios/useAxios\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { useNavigate } from \"react-router-dom\"\r\n\r\n\r\nconst Home = () => {\r\n\r\n\r\n  const [logs, setLogs] = useState([])\r\n  const [input_one, setInputOne] = useState(\"\")\r\n  const [input_two, setInputTwo] = useState(\"\")\r\n  const [count, setCount] = useState(0)\r\n\r\n  const api = useAxios()\r\n  const navigate = useNavigate()\r\n\r\n  const data = async () => {\r\n    try {\r\n      const response = await api.get(`/tasks/`, {})\r\n      console.log(response.data)\r\n      setLogs(response.data)\r\n    } catch (err) {\r\n      console.log(err)\r\n    }\r\n  }\r\n  const Cal = () => {\r\n    const filteredLogs = logs.filter((log) => log.result == null);\r\n    const count = filteredLogs.length;\r\n    setCount(count)\r\n  }\r\n  const submit = async (id) => {\r\n    try {\r\n      const response = await api.post(`/calculate/`, {\r\n        id:id,\r\n        input_one:input_one,\r\n        input_two:input_two\r\n      })\r\n      if (response.status == 200) {\r\n       \r\n        data()\r\n      }\r\n      setInputOne(\" \")\r\n      setInputTwo(\" \")\r\n    } catch (err) {\r\n      console.log(err)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    data()\r\n    Cal()\r\n  }, [])\r\n\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"flex justify-center mt-6\">\r\n        <Link to=\"/student/task_log\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"focus:outline-none  bg-black text-white  font-medium rounded-lg text-sm px-5 py-1 mr-2 mb-2 \"\r\n          >\r\n           ACTIVITY LOG\r\n          </button>\r\n        </Link>\r\n      </div>\r\n      <div className=\"mx-28\">\r\n        <h1 className=\"text-2xl font-bold mb-4\">TASK PENDING</h1>\r\n        {count===0?<h1 className=\"text-center font-semibold\">NO PENDING TASK</h1>:<div class=\"relative overflow-x-auto\">\r\n          <table class=\"w-full text-sm text-center text-gray-500 dark:text-gray-400\">\r\n            <thead class=\"text-xs text-gray-700 uppercase bg-gray-200\">\r\n              <tr>\r\n                <th scope=\"col\" class=\"px-6 py-3\">\r\n                  No\r\n                </th>\r\n                <th scope=\"col\" class=\"px-6 py-3\">\r\n                  MASTER\r\n                </th>\r\n                <th scope=\"col\" class=\"px-6 py-3\">\r\n                  OPERATION\r\n                </th>\r\n                <th scope=\"col\" class=\"px-6 py-3\">\r\n                  INPUT 1\r\n                </th>\r\n                <th scope=\"col\" class=\"px-6 py-3\">\r\n                  INPUT 2\r\n                </th>\r\n                <th scope=\"col\" class=\"px-6 py-3\"></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {logs.filter((log) => log.result == null).map((log, index) => (\r\n                <tr class=\" border-b bg-gray-100 text-black\">\r\n                  <td class=\"px-6 py-4\">{index + 1}</td>\r\n                  <td class=\"px-6 py-4\">\r\n                    {log.first_name} {log.last_name}\r\n                  </td>\r\n                  <td class=\"px-6 py-4\">{log.operation}</td>\r\n                  <td class=\"px-6 py-4\">\r\n                    <input\r\n                      onChange={(event) => {\r\n                        setInputOne(event.target.value)\r\n                      }}\r\n                      \r\n                    />\r\n                  </td>\r\n                  <td class=\"px-6 py-4\">\r\n                    <input\r\n                      onChange={(event) => {\r\n                        setInputTwo(event.target.value)\r\n                      }}\r\n                      \r\n                    />\r\n                  </td>\r\n                  <td class=\"px-6 py-4\">\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={()=>submit(log.id)}\r\n                      className=\"focus:outline-none  bg-black text-white  font-medium  rounded-lg text-xs px-4 py-1 mr-2 mb-2 \"\r\n                    >\r\n                      SUBMIT\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>}\r\n        \r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}