{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/HP/OneDrive/Desktop/MASTER AND STUDENT/master_and_student/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/HP/OneDrive/Desktop/MASTER AND STUDENT/master_and_student/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/HP/OneDrive/Desktop/MASTER AND STUDENT/master_and_student/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import axios from\"axios\";import{Link}from'react-router-dom';import{useDispatch}from'react-redux';import{useNavigate}from'react-router-dom';import{setToken,masterData}from\"../../redux/reducers/AuthSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MasterLogin=function MasterLogin(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],createEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],createPassword=_useState4[1];var dispatch=useDispatch();var navigate=useNavigate();var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return axios.post(\"http://127.0.0.1:8000/api/token/\",{email:email,password:password});case 4:res=_context.sent;console.log(\"222222\");if(res.data.is_master){console.log(res.data,\"HERE\");dispatch(setToken(res.data));dispatch(masterData(res.data));navigate('/master/home');}_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);alert(\"Wrong email and password entered\");case 12:case\"end\":return _context.stop();}},_callee,null,[[1,9]]);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-6 gap-4 \",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-start-2 col-span-4 \",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative flex flex-col justify-center min-h-screen overflow-hidden\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full p-6 m-auto bg-white border rounded-md shadow-md lg:max-w-xl\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-semibold text-center text-black \",children:\"LOGIN\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"mt-6\",onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-800\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"block w-full px-4 py-2 mt-2 text-purple-700 bg-white border rounded-md focus:border-purple-400 focus:ring-purple-300 focus:outline-none focus:ring focus:ring-opacity-40\",onChange:function onChange(event){createEmail(event.target.value);},value:email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-800\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"block w-full px-4 py-2 mt-2 text-purple-700 bg-white border rounded-md focus:border-purple-400 focus:ring-purple-300 focus:outline-none focus:ring focus:ring-opacity-40\",onChange:function onChange(event){createPassword(event.target.value);},value:password})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full px-4 py-2 tracking-wide text-white transition-colors duration-200 transm bg-black rounded-md \",children:\"Login\"}),/*#__PURE__*/_jsxs(Link,{to:\"/master/signup\",children:[\"  \",/*#__PURE__*/_jsx(\"p\",{className:\"text-center mt-4 text-sm\",children:\"Don't have an account?Register Here\"})]})]})]})]})})})})});};export default MasterLogin;","map":{"version":3,"names":["React","useState","axios","Link","useDispatch","useNavigate","setToken","masterData","MasterLogin","email","createEmail","password","createPassword","dispatch","navigate","onSubmit","e","preventDefault","post","res","console","log","data","is_master","alert","event","target","value"],"sources":["C:/Users/HP/OneDrive/Desktop/MASTER AND STUDENT/master_and_student/frontend/src/components/master/MasterLogin.js"],"sourcesContent":["import React, { useState } from \"react\"\r\nimport axios from \"axios\"\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { setToken,masterData } from \"../../redux/reducers/AuthSlice\";\r\n\r\nconst MasterLogin = () => {\r\n    const [email, createEmail] = useState(\"\")\r\n  const [password, createPassword] = useState(\"\")\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault()\r\n   \r\n    try {\r\n      const res = await axios.post(\"http://127.0.0.1:8000/api/token/\", {email: email,\r\n      password: password})\r\n      console.log(\"222222\")\r\n      if ( res.data.is_master){\r\n        console.log(res.data,\"HERE\")\r\n        dispatch(setToken(res.data))\r\n        dispatch(masterData(res.data))\r\n        navigate('/master/home');\r\n       \r\n      }\r\n    } catch (e) {\r\n      alert(\"Wrong email and password entered\")\r\n    }\r\n  }\r\n  return (\r\n      <div>\r\n      <div className=\"grid grid-cols-6 gap-4 \">\r\n        <div className=\"col-start-2 col-span-4 \">\r\n          <div className=\"relative flex flex-col justify-center min-h-screen overflow-hidden\">\r\n            <div className=\"w-full p-6 m-auto bg-white border rounded-md shadow-md lg:max-w-xl\">\r\n              <h1 className=\"text-3xl font-semibold text-center text-black \">\r\n                LOGIN\r\n              </h1>\r\n              <form className=\"mt-6\" onSubmit={onSubmit}>\r\n                <div className=\"mb-2\">\r\n                  <label className=\"block text-sm font-semibold text-gray-800\">\r\n                    Email\r\n                  </label>\r\n                  <input\r\n                    type=\"email\"\r\n                    className=\"block w-full px-4 py-2 mt-2 text-purple-700 bg-white border rounded-md focus:border-purple-400 focus:ring-purple-300 focus:outline-none focus:ring focus:ring-opacity-40\"\r\n                    onChange={(event) => {\r\n                      createEmail(event.target.value)\r\n                    }}\r\n                    value={email}\r\n                  />\r\n                </div>\r\n                <div className=\"mb-2\">\r\n                  <label className=\"block text-sm font-semibold text-gray-800\">\r\n                    Password\r\n                  </label>\r\n                  <input\r\n                    type=\"password\"\r\n                    className=\"block w-full px-4 py-2 mt-2 text-purple-700 bg-white border rounded-md focus:border-purple-400 focus:ring-purple-300 focus:outline-none focus:ring focus:ring-opacity-40\"\r\n                    onChange={(event) => {\r\n                      createPassword(event.target.value)\r\n                    }}\r\n                    value={password}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"mt-6\">\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"w-full px-4 py-2 tracking-wide text-white transition-colors duration-200 transm bg-black rounded-md \"\r\n                  >\r\n                    Login\r\n                  </button>\r\n                  <Link to=\"/master/signup\">  <p className=\"text-center mt-4 text-sm\">Don't have an account?Register Here</p></Link>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MasterLogin"],"mappings":"mfAAA,MAAOA,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAOC,MAAK,KAAM,OAAO,CACzB,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,QAAQ,CAACC,UAAU,KAAQ,gCAAgC,CAAC,wFAErE,GAAMC,YAAW,CAAG,QAAdA,YAAW,EAAS,CACtB,cAA6BP,QAAQ,CAAC,EAAE,CAAC,wCAAlCQ,KAAK,eAAEC,WAAW,eAC3B,eAAmCT,QAAQ,CAAC,EAAE,CAAC,yCAAxCU,QAAQ,eAAEC,cAAc,eAC/B,GAAMC,SAAQ,CAAGT,WAAW,EAAE,CAC9B,GAAMU,SAAQ,CAAGT,WAAW,EAAE,CAC9B,GAAMU,SAAQ,4FAAG,iBAAOC,CAAC,2HACvBA,CAAC,CAACC,cAAc,EAAE,uCAGEf,MAAK,CAACgB,IAAI,CAAC,kCAAkC,CAAE,CAACT,KAAK,CAAEA,KAAK,CAC9EE,QAAQ,CAAEA,QAAQ,CAAC,CAAC,QADdQ,GAAG,eAETC,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC,CACrB,GAAKF,GAAG,CAACG,IAAI,CAACC,SAAS,CAAC,CACtBH,OAAO,CAACC,GAAG,CAACF,GAAG,CAACG,IAAI,CAAC,MAAM,CAAC,CAC5BT,QAAQ,CAACP,QAAQ,CAACa,GAAG,CAACG,IAAI,CAAC,CAAC,CAC5BT,QAAQ,CAACN,UAAU,CAACY,GAAG,CAACG,IAAI,CAAC,CAAC,CAC9BR,QAAQ,CAAC,cAAc,CAAC,CAE1B,CAAC,+EAEDU,KAAK,CAAC,kCAAkC,CAAC,oEAE5C,kBAjBKT,SAAQ,4CAiBb,CACD,mBACI,kCACA,YAAK,SAAS,CAAC,yBAAyB,uBACtC,YAAK,SAAS,CAAC,yBAAyB,uBACtC,YAAK,SAAS,CAAC,oEAAoE,uBACjF,aAAK,SAAS,CAAC,oEAAoE,wBACjF,WAAI,SAAS,CAAC,gDAAgD,UAAC,OAE/D,EAAK,cACL,cAAM,SAAS,CAAC,MAAM,CAAC,QAAQ,CAAEA,QAAS,wBACxC,aAAK,SAAS,CAAC,MAAM,wBACnB,cAAO,SAAS,CAAC,2CAA2C,UAAC,OAE7D,EAAQ,cACR,cACE,IAAI,CAAC,OAAO,CACZ,SAAS,CAAC,0KAA0K,CACpL,QAAQ,CAAE,kBAACU,KAAK,CAAK,CACnBf,WAAW,CAACe,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CACjC,CAAE,CACF,KAAK,CAAElB,KAAM,EACb,GACE,cACN,aAAK,SAAS,CAAC,MAAM,wBACnB,cAAO,SAAS,CAAC,2CAA2C,UAAC,UAE7D,EAAQ,cACR,cACE,IAAI,CAAC,UAAU,CACf,SAAS,CAAC,0KAA0K,CACpL,QAAQ,CAAE,kBAACgB,KAAK,CAAK,CACnBb,cAAc,CAACa,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CACpC,CAAE,CACF,KAAK,CAAEhB,QAAS,EAChB,GACE,cAEN,aAAK,SAAS,CAAC,MAAM,wBACnB,eACE,IAAI,CAAC,QAAQ,CACb,SAAS,CAAC,sGAAsG,UACjH,OAED,EAAS,cACT,MAAC,IAAI,EAAC,EAAE,CAAC,gBAAgB,WAAC,IAAE,wBAAG,SAAS,CAAC,0BAA0B,UAAC,qCAAmC,EAAI,GAAO,GAC9G,GACD,GACH,EACF,EACF,EACF,EACF,CAEV,CAAC,CAED,cAAeH,YAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}